version: '3.8'

services:
  app:
    container_name: p2p-headers
    build: ./
    ports:
      - "8080:8080"
      - "8333:8333"
    environment:
      - DB_DSN=file:/data/blockheaders.db?_foreign_keys=true&pooled=true
      - DB_SCHEMA_PATH=/migrations
    restart: unless-stopped
    volumes:
      - ./p2p-headers-data:/data
